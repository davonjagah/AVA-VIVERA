<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Registration</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/register.css">
</head>
<body>
    <header>
        <div class="header-logo-container">
            <img src="/images/logo.png" alt="Event Logo 1" class="header-logo">
            <img src="/images/vivera.png" alt="Event Logo 2" class="header-logo">
        </div>
    </header>

    <div class="container">
        <div class="registration-card">
            <div class="registration-header">
                <h1 id="eventTitle">Register for Event</h1>
                <p class="event-subtitle" id="eventSubtitle">Event Details</p>
                <p class="event-details" id="eventDetails">Date • Time • Location • Price</p>
                
                <!-- Event Countdown Timer -->
                <div class="event-countdown" id="eventCountdown" style="display: none;">
                    <h4 id="countdownTitle">Countdown to Event</h4>
                    <div class="countdown-timer">
                        <div class="countdown-item">
                            <span class="countdown-number" id="eventDays">00</span>
                            <span class="countdown-label">Days</span>
                        </div>
                        <div class="countdown-item">
                            <span class="countdown-number" id="eventHours">00</span>
                            <span class="countdown-label">Hours</span>
                        </div>
                        <div class="countdown-item">
                            <span class="countdown-number" id="eventMinutes">00</span>
                            <span class="countdown-label">Minutes</span>
                        </div>
                        <div class="countdown-item">
                            <span class="countdown-number" id="eventSeconds">00</span>
                            <span class="countdown-label">Seconds</span>
                        </div>
                    </div>
                </div>
            </div>

            <form class="registration-form" id="registrationForm">
                <div class="form-group">
                    <label for="fullName">Full Name *</label>
                    <input type="text" id="fullName" name="fullName" required>
                </div>

                <div class="form-group">
                    <label for="email">Email Address *</label>
                    <input type="email" id="email" name="email" required>
                </div>

                <div class="form-group">
                    <label for="phone">Phone Number *</label>
                    <input type="tel" id="phone" name="phone" required>
                </div>

                <div class="form-group">
                    <label for="organization">Organization/Company *</label>
                    <input type="text" id="organization" name="organization" required>
                </div>

                <div class="form-group" id="agiMembershipGroup" style="display: none;">
                    <div class="checkbox-group">
                        <input type="checkbox" id="agiMember" name="agiMember">
                        <label for="agiMember">I am a member of AGI (Association of Ghana Industries)</label>
                    </div>
                </div>

                <div class="form-group">
                    <label for="event">Selected Event</label>
                    <input type="text" id="event" name="event" disabled>
                </div>

                <div class="form-group">
                    <label for="price">Event Price</label>
                    <input type="text" id="price" name="price" disabled>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="window.history.back()">Back</button>
                    <button type="submit" class="btn-primary">Proceed to Payment</button>
                </div>
            </form>

            <!-- Payment section -->
            <div class="payment-section" id="paymentSection" style="display: none;">
                <h3>Complete Your Payment</h3>
                <div class="payment-container">
                    <div class="payment-info">
                        <p>You will be redirected to the secure Hubtel payment gateway to complete your transaction.</p>
                        <div class="payment-details">
                            <div class="detail-item">
                                <span class="label">Amount:</span>
                                <span class="value" id="paymentAmount">-</span>
                            </div>
                            <div class="detail-item">
                                <span class="label">Event:</span>
                                <span class="value" id="paymentEvent">-</span>
                            </div>
                        </div>
                    </div>
                    <div class="iframe-container">
                        <!-- Hubtel iframe will be inserted here (fallback) -->
                        <div id="hubtel-checkout-iframe"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 Event Organizer. All rights reserved.</p>
        <p><a href="https://www.accessviewafrica.com">View Africa</a> | <a href="https://www.vivera.com">Vivera</a></p>
    </footer>

    <!-- Hubtel Checkout SDK (Bundled) -->
    <script src="/js/hubtel-sdk.bundle.js"></script>
    <script src="/js/events-config.js"></script>
    <script src="/js/register.js"></script>
    
    <!-- Countdown Timer JavaScript -->
    <script>
        // Event dates mapping
        const eventDates = {
            sme: new Date('September 8, 2025 09:00:00').getTime(),
            ceo: new Date('September 9, 2025 09:00:00').getTime(),
            wealth: new Date('September 12, 2025 10:00:00').getTime()
        };

        // Event names for countdown titles
        const eventNames = {
            sme: 'SMEs Connect',
            ceo: 'CEO Roundtable',
            wealth: 'Wealth Creation Masterclass'
        };

        // Get event type from URL
        function getEventType() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('event');
        }

        // Update countdown function
        function updateEventCountdown() {
            const eventType = getEventType();
            if (!eventType || !eventDates[eventType]) return;

            const targetDate = eventDates[eventType];
            const now = new Date().getTime();
            const distance = targetDate - now;

            if (distance < 0) {
                // Event has passed
                document.getElementById('eventDays').textContent = '00';
                document.getElementById('eventHours').textContent = '00';
                document.getElementById('eventMinutes').textContent = '00';
                document.getElementById('eventSeconds').textContent = '00';
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById('eventDays').textContent = days.toString().padStart(2, '0');
            document.getElementById('eventHours').textContent = hours.toString().padStart(2, '0');
            document.getElementById('eventMinutes').textContent = minutes.toString().padStart(2, '0');
            document.getElementById('eventSeconds').textContent = seconds.toString().padStart(2, '0');
        }

        // Initialize countdown when page loads
        document.addEventListener('DOMContentLoaded', function() {
            const eventType = getEventType();
            if (eventType && eventDates[eventType]) {
                // Show countdown and set title
                document.getElementById('eventCountdown').style.display = 'block';
                document.getElementById('countdownTitle').textContent = `Countdown to ${eventNames[eventType]}`;
                
                // Start countdown
                updateEventCountdown();
                setInterval(updateEventCountdown, 1000);
            }
        });
    </script>
</body>
</html> 